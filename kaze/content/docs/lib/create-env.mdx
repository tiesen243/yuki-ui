---
title: Create Env
description: A utility to validate environment variables using Zod
source: lib/create-env.ts
---

## Environment Variables Validation

This utility leverages Standard Schema to ensure your environment variables are correctly typed and present. It provides a simple API to define server and client variables, set defaults, and skip validation in specific scenarios (like CI or linting).

### Example Usage

```ts title="env.ts"
import * as validator from 'zod'
// or import { type as validator } from 'arktype'
// or import { valibot as validator } from 'valibot'

import { createEnv } from '@/lib/create-env'

export const env = createEnv({
  shared: {
    NODE_ENV: validator.enum(['development', 'production', 'test']),
    // NODE_ENV: validator('string') // arktype
  },

  server: {
    SERVER_VAR: validator.string(),
    // SERVER_VAR: validator('string') // arktype
  },

  clientPrefix: 'NEXT_PUBLIC_',
  client: {
    NEXT_PUBLIC_CLIENT_VAR: z.string()
    // NEXT_PUBLIC_CLIENT_VAR: validator('string') // arktype
  },

  runtimeEnv: {
    ...process.env,
    NEXT_PUBLIC_CLIENT_VAR: process.env.NEXT_PUBLIC_CLIENT_VAR,
  },

  emptyStringAsUndefined: true,

  skipValidation:
    !!process.env.CI || process.env.npm_lifecycle_event === 'lint',
})
```

## Installation

### CLI

<InstallComponent comp='create-env' />

### Manual

<Steps>

<Step>
Install the following dependencies:

```package-install
zod #or arktype, valibot or any other Standard Schema compatible library
```

</Step>

<Step>
  Copy and paste the following code into your project.
  <ComponentSource comp='create-env' />
</Step>

</Steps>
