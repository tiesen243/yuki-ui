---
title: Create Env
description: A utility to validate environment variables using Zod
source: lib/create-env.ts
---

## Environment Variables Validation

This utility leverages Zod to ensure your environment variables are correctly typed and present. It provides a simple API to define server and client variables, set defaults, and skip validation in specific scenarios (like CI or linting).

### Example Usage

```ts title="env.ts"
import * as z from 'zod/mini'

import { createEnv } from '@/lib/create-env'

export const env = createEnv({
  server: {
    NODE_ENV: z._default(
      z.enum(['development', 'production', 'test']),
      'development',
    ),
  },

  clientPrefix: 'NEXT_PUBLIC_',
  client: {
    // NEXT_PUBLIC_CLIENT_VAR: z.string()
  },

  runtimeEnv: {
    ...process.env,
    // Explicitly define client environment variables here because Next.js does not
    // make them available on process.env at runtime for the client bundle.
    // NEXT_PUBLIC_CLIENT_VAR: process.env.NEXT_PUBLIC_CLIENT_VAR,
  },

  skipValidation:
    !!process.env.SKIP_ENV_VALIDATION ||
    !!process.env.CI ||
    process.env.npm_lifecycle_event === 'lint',
})
```

## Installation

### CLI

<InstallComponent comp='create-env' />

### Manual

<Steps>

<Step>
Install the following dependencies:

```package-install
zod
```

</Step>

<Step>
  Copy and paste the following code into your project.
  <ComponentSource comp='create-env' />
</Step>

</Steps>
